<!DOCTYPE html>
<html>
<head>
    <title>Beholder Traffic Map</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="style.css" />

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    
</head>
<body>
    <div id="stats-pane">
        <h3>Top Countries</h3>
        <ul id="top-countries">
            <li>Loading...</li>
        </ul>
        <h3>Top Organizations</h3>
        <ul id="top-asns">
            <li>Loading...</li>
        </ul>

        <div id="history-section">
            <div class="history-header">
                <h3>History</h3>
                <select id="history-range">
                    <option value="24h">24 hours</option>
                    <option value="7d">7 days</option>
                    <option value="30d">30 days</option>
                </select>
            </div>
            <div class="chart-container">
                <h4>Countries</h4>
                <canvas id="country-chart"></canvas>
            </div>
            <div class="chart-container">
                <h4>Organizations</h4>
                <canvas id="asn-chart"></canvas>
            </div>
        </div>
    </div>
    <div class="map-controls">
        <div class="map-control-item">
            <label class="switch-container">
                <input type="checkbox" id="showOutgoing" name="showOutgoing" checked>
                <span class="slider round"></span>
            </label>
            <label for="showOutgoing">Outgoing (Red)</label>
        </div>
        <div class="map-control-item">
            <label class="switch-container">
                <input type="checkbox" id="showIncoming" name="showIncoming" checked>
                <span class="slider round"></span>
            </label>
            <label for="showIncoming">Incoming (White)</label>
        </div>

        <div id="info-pane">
            <p>Click a dot for info</p>
        </div>
        </div>

    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" data-cfasync="false"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-curve@1.0.0/leaflet.curve.js"></script>
    <script src="https://unpkg.com/leaflet-ant-path@1.3.0/dist/leaflet-ant-path.js" data-cfasync="false"></script>
    <script src="app.js" data-cfasync="false"></script>
    
</body>
</html>